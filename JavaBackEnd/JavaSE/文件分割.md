

# GB级字符文件分割

```java

import java.io.BufferedOutputStream;
import java.io.BufferedReader;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.InputStreamReader;
import java.nio.charset.StandardCharsets;

public class SplitBigFile {

    public static void main(String[] args) throws Exception {
        File file = new File("C:\\Users\\sunliju\\Desktop\\app.json.2022-01-20\\app.json");

        BufferedReader reader = new BufferedReader(new InputStreamReader(new FileInputStream(file), StandardCharsets.UTF_8));

        while(true) {
            File target = new File("C:\\Users\\sunliju\\Desktop\\app.json.2022-01-20\\"+System.currentTimeMillis()+".json");
            BufferedOutputStream outputStream = new BufferedOutputStream(new FileOutputStream(target));
            String buf = null;
            
            //每个小文件：500行
            for (int i = 0; i < 5000; i++) {
                buf = reader.readLine();
                if(buf == null || buf.length() < 1) {
                    break;
                }
                outputStream.write((buf+"\r\n").getBytes(StandardCharsets.UTF_8));
            }
            outputStream.close();
            if(buf == null || buf.length() < 1) {
                break;
            }
        }

    }
}

```



